{% extends "Base.html" %}

{% block title %}{{ projectName }}{% endblock %}

{% block head %}

<link href="/css/index.css" rel="stylesheet">

{% endblock %}

{% block body %}


<div class="searchField">
    <form action="/">
        <input type="search" placeholder="–í–≤–æ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏, –∞–≤—Ç–æ—Ä–∞, –∂–∞–Ω—Ä‚Ä¶" name="searchQuery" class="searchField">
        <button type="submit" class="searchField">üîç</button>
    </form>
</div>

<div class="content">
    <table>
        <thead>
        <tr>
            <th colspan="2">–ù–∞–∑–≤–∞–Ω–∏–µ
                <div class="panelSort">‚ñº ‚ñ≤</div>
            </th>
            <th colspan="2">–ê–≤—Ç–æ—Ä
                <div class="panelSort">‚ñº ‚ñ≤</div>
            </th>
            <th colspan="1">–ñ–∞–Ω—Ä
                <div class="panelSort">‚ñº ‚ñ≤</div>
            </th>
            <th>–û–ø–µ—Ä–∞—Ü–∏–∏</th>
        </tr>
        </thead>
        <tbody>
        {% for book in books %}
        <tr>
            <td>{{ book.name }}</td>
            <td>‚òÖ {{ book.rating }}</td>
            {% if authors[book.author_id] is not null %}
            <td>{{ authors[book.author_id].name }}</td>
            <td>‚òÖ {{ authors[book.author_id].rating|number_format(1, ',', '') }}</td>
            {% else %}
            <td>–ê–Ω–æ–Ω–∏–º</td>
            <td></td>
            {% endif %}
            {% if genres[book.genre_id] is not null %}
            <td>{{ genres[book.genre_id].name }}</td>
            {% else %}
            <td>‚Äî</td>
            {% endif %}
            <td>
                <a href="/book/edit/{{ book.id }}">üñâ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                <a href="/book/delete/{{ book.id }}">‚ùå –£–¥–∞–ª–∏—Ç—å</a>
            </td>
        </tr>
        {% endfor %}
        <tbody>
    </table>

    {% if (books)|length==0 %}
    <p>–°–ø–∏—Å–æ–∫ –∫–Ω–∏–≥ –ø—É—Å—Ç‚Ä¶</p>
    {% endif %}

    <p><a href="/book/add">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É‚Ä¶</a></p>
</div>

<div class="content left">
    <h1>–ê–≤—Ç–æ—Ä—ã</h1>
    <table>
        <thead>
        <tr>
            <th>
                –ò–º—è
                <div class="panelSort">‚ñº ‚ñ≤</div>
            </th>
            <th>
                –†–µ–π—Ç–∏–Ω–≥
                <div class="panelSort">‚ñº ‚ñ≤</div>
            </th>
            <th>
                –ö–æ–ª-–≤–æ –∫–Ω–∏–≥
                <div class="panelSort">‚ñº ‚ñ≤</div>
            </th>
            <th>–û–ø–µ—Ä–∞—Ü–∏–∏</th>
        </tr>
        </thead>
        <tbody>
        {% for author in authors %}
        <tr>
            <td>{{ author.name }}</td>
            <td>‚òÖ {{ author.rating|number_format(1, ',', '') }}</td>
            <td>{{ author.number_books }}</td>
            <td>
                <a href="/author/edit/{{ author.id }}">üñâ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                <a href="/author/delete/{{ author.id }}">‚ùå –£–¥–∞–ª–∏—Ç—å</a>
            </td>
        </tr>
        {% endfor %}
        <tbody>
    </table>

    {% if (authors)|length==0 %}
    <p>–°–ø–∏—Å–æ–∫ –∞–≤—Ç–æ—Ä–æ–≤ –ø—É—Å—Ç‚Ä¶</p>
    {% endif %}

    <p><a href="/author/add">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ—Ä–∞‚Ä¶</a></p>
</div>

<div class="content right">
    <h1>–ñ–∞–Ω—Ä—ã</h1>
    <table>
        <thead>
        <tr>
            <th>
                –ò–º—è –∂–∞–Ω—Ä–∞
                <div class="panelSort">‚ñº ‚ñ≤</div>
            </th>
            <th>–û–ø–µ—Ä–∞—Ü–∏–∏</th>
        </tr>
        </thead>
        <tbody>
        {% for genre in genres %}
        <tr>
            <td>{{ genre.name }}</td>
            <td>
                <a href="/genre/edit/{{ genre.id }}">üñâ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                <a href="/genre/delete/{{ genre.id }}">‚ùå –£–¥–∞–ª–∏—Ç—å</a>
            </td>
        </tr>
        {% endfor %}
        <tbody>
    </table>

    {% if (genres)|length==0 %}
    <p>–°–ø–∏—Å–æ–∫ –∂–∞–Ω—Ä–æ–≤ –ø—É—Å—Ç‚Ä¶</p>
    {% endif %}

    <p><a href="/genre/add">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∂–∞–Ω—Ä‚Ä¶</a></p>
</div>

{% endblock %}